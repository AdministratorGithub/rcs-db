
TODO 9.0.0

    upgrade to ruby 1.9.3-p365
    upgrade to mongodb 2.4 (write the upgrade procedure during NSIS installer)
      - running 2.2
      - issue sh.stopBalancer()
      - kill mongos
      - execute mongos24 --upgrade
      - issue sh.startBalancer()
      - kill all
      - copy 24 over 22
      - restart all

--
    upgrade to mongoid 3.x
    gridfs append + moped?

    BSON::ObjectId('4f86902b2afb6512a7000097') should be migrated to Moped::BSON....

    new spacial mongoid

    .with(:safe) on saving evidences in the db

    capped collection must be created by hand (log, queues)
--

    recalculate all the checksums !!!

    agent, factory, target, operation, entity, search shoud use mongoid for index and show

    rework to speed up the most_contacted resolv
    rework to speed up the accessible mechanism

    aggregates for places (positioner algorithm)

    create entity form most_contacted
    associate entity from most_contacted

    identity relation if two entities have the same handles

    entities:
      - manual (confirmed)
      - automatic (confirmed / unconfirmed)
      - ghost (not shown)

    flows:
      - message
      - call


TODO FUTURE:

    differentiate between input/output connectors:
        - xml format
        - implement transport layers:
        - proprietary for read-only db
        - sftp

    correlation:
        global target position (http://www.zeit.de/datenschutz/malte-spitz-data-retention)

======================================

    mongo authentication

    Refactoring on rest methods:
      - agent (too much logic here)
      - evidence (too much logic here)
      - factory (direct mongo query)
      - operation (direct mongo query)
      - search (direct mongo query)
      - target (direct mongo query, move has too much logic)
