
#####################################################
 REMOVE 2dsphere before releasing on mongodb 2.2.x
#####################################################

TODO 9.0.0

  RIGHT BEFORE RELEASE:
    upgrade to ruby 1.9.3-p392 on windows
    remove the 'return' from rebuild_summary

    --

  FIX:
    better investigation on "end of file reached" errors from mongoid (hoping for version 4.0.0 with connection pool)
    try to implement "retry" on mongoid queries

    offload delete not working

  IMPLEMENT:
    statistic analyzer (alor)
      automatic detection of home / office (needs timezone for each entity)
      automatic entities from "very" most contacted

    refactor export evidence with the new erb schema

    add 2dsphere index on evidence (and migrate old data)
    support filter "lat: lon: r:" on "info" for evidence


    refactor the connectors to use queue and export from separate process
      - xml export
      - sync with "archive" rcs installation

  TRY:
    hash index for sharding (topac - on branch 9.0.x)

  MIGRATION:
    change all the aggregates of [:gmail, :mail] to :mail
    rebuild all the summaries
    change all the handles of :gmail to :mail

  TEST:
    migration of mongo 2.4 on real data (copy db from castore to vm and try)
    flow integration with console
    export entity from console


======================================
TODO FUTURE:

    Refactoring on rest methods:
      - agent (too much logic here)
      - evidence (too much logic here)


======================================
IDEAS:

    global target position (http://www.zeit.de/datenschutz/malte-spitz-data-retention)
