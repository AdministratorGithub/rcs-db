
TODO 8.4.0

  remove the 'return' from rebuild_summary

  refactor export evidence with the new erb schema

  add 2dsphere index on evidence
  support filter "lat: lon: r:" on "info" for evidence

  TEST:
    migration of mongo 2.4 on real data (copy db from castore to vm and try)
    export entity from console


TODO 9.0.0

  FIX:
    better investigation on "end of file reached" errors from mongoid (hoping for version 4.0.0 with connection pool)
    try to implement "retry" on mongoid queries

  IMPLEMENT:
    statistic analyzer (alor)
      automatic detection of home / office (needs timezone for each entity)
      automatic entities from "very" most contacted

    refactor export evidence with the new erb schema

    Search for position evidences by clicking on a position link (intelligence)
      - add 2dsphere index on evidence [OK]
      - support filter "lat: lon: r:" on "info" for evidence
      - migrate old data

    refactor the connectors to use queue and export from separate process
      - xml export
      - sync with "archive" rcs installation

  TRY:
    hash index for sharding (topac - on branch 9.0.x)

  TEST:
    flow integration with console

  MIGRATION:
    and migrate old position to the new 2dsphere index


======================================
TODO FUTURE:

    Refactoring on rest methods:
      - agent (too much logic here)
      - evidence (too much logic here)

    Refactor evidence search filters (Evidence#common_filter, etc.)

======================================
IDEAS:

    global target position (http://www.zeit.de/datenschutz/malte-spitz-data-retention)
